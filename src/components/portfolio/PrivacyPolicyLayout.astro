---
import type { PolicyPrivacyEntry } from "@/types";
import BaseLayout from "@components/base/BaseLayout.astro";
import PageHeader from "@/components/common/PageHeader.astro";
import { markdownify } from "@lib/textConverter";

interface Props {
  entry: PolicyPrivacyEntry;
}

const { entry } = Astro.props;
const { title, description, sections } = entry.data;
---

<BaseLayout title={title} description={description}>
  <PageHeader title={title} />
  <section class="section-sm container">
    <div class="row justify-center">
      <div class="col-10 content glass rounded-lg p-4">
        <div class="w-100 text-center">
          {description}
        </div>
        {
          sections.map((section, index) => (
            <>
              {index > 0 && <hr />}
              <div>
                <div class="mt-8">
                  <h3 set:html={markdownify(section.title)} />
                </div>
              </div>
              <div>
                {section.paragraphs.map((element: string) => (
                  <p set:html={markdownify(element)} />
                ))}
              </div>
            </>
          ))
        }
      </div>
    </div>
  </section>
</BaseLayout>
